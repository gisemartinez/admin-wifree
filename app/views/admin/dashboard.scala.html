@import play.api.libs.json.JsValue
@import org.pac4j.core.profile.CommonProfile
@import views.dto.ConnectedUser
@import services.ConnectionsService

@(profile: CommonProfile,
jsGenderGraphData: JsValue,
jsAgeGraphData: JsValue,
jsConnectionsGraphDataThisWeek: JsValue,
jsConnectionsGraphDataLastWeek: JsValue,
networkConfigurationForm: Form[PortalNetworkConfiguration],
connectedUsers: List[ConnectedUser])

@genderGraphData = @{jsGenderGraphData.toString()}
@ageGraphData = @{jsAgeGraphData.toString()}
@connectionsGraphDataThisWeek = @{jsConnectionsGraphDataThisWeek.toString()}
@connectionsGraphDataLastWeek = @{jsConnectionsGraphDataLastWeek.toString()}
@portalId = @{profile.getAttribute("portal").toString}


<!-- Page content -->
<div class="right_col" role="main">
            <div class="">
                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="x_panel col-md-12">
                            <div class="x_content">
                                <div id="echart_line" style="width: 100%; height:280px; margin: 0px 0px 0"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="animated flipInY col-lg-3 col-md-3 col-sm-6 col-xs-12">
                        <div class="tile-stats">
                            <div class="icon"><i class="fa fa-comments-o"></i></div>
                            <div class="count">@{ConnectionsService.connectedValue(portalId)}</div>
                            <h3>Usuarios Conectados</h3>
                        </div>
                    </div>
                    <div class="animated flipInY col-lg-3 col-md-3 col-sm-6 col-xs-12">
                        <div class="tile-stats">
                            <div class="icon"><i class="fa fa-caret-square-o-right"></i></div>
                            <div class="count">54</div>
                            <h3>Nuevos </br>Usuarios</h3>
                        </div>
                    </div>
                    <div class="animated flipInY col-lg-3 col-md-3 col-sm-6 col-xs-12">
                        <div class="tile-stats">
                            <div class="icon"><i class="fa fa-caret-square-o-right"></i></div>
                            <div class="count">Sábado</div>
                            </br>
                            <h3>Día Más Visitado</h3>
                        </div>
                    </div>
                    <div class="animated flipInY col-lg-3 col-md-3 col-sm-6 col-xs-12">
                        <div class="tile-stats">
                            <div class="icon"><i class="fa fa-comments-o"></i></div>
                            <div class="count">17:00</div>
                            </br>
                            <h3>Hora Más Visitada</h3>
                        </div>
                    </div>
                </div>


                <div class="row">
                    @connectionsPart(networkConfigurationForm, connectedUsers,profile)
                </div>
                <!-- /Page content -->
            </div>

        </div>
@parts.js.echart()
<script src="@routes.Assets.versioned("js/dashboard.js")"></script>